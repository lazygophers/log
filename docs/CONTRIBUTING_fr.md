# ü§ù Contribuer √† LazyGophers Log

Nous adorons vos contributions ! Nous voulons rendre la contribution √† LazyGophers Log aussi facile et transparente que possible, qu'il s'agisse de :

- üêõ Signaler un bug
- üí¨ Discuter de l'√©tat actuel du code
- ‚ú® Soumettre une demande de fonctionnalit√©
- üîß Proposer une correction
- üöÄ Impl√©menter une nouvelle fonctionnalit√©

## üìã Table des mati√®res

- [Code de conduite](#-code-de-conduite)
- [Processus de d√©veloppement](#-processus-de-d√©veloppement)
- [D√©marrage rapide](#-d√©marrage-rapide)
- [Processus de Pull Request](#-processus-de-pull-request)
- [Standards de codage](#-standards-de-codage)
- [Directives de test](#-directives-de-test)
- [Exigences des tags de build](#Ô∏è-exigences-des-tags-de-build)
- [Documentation](#-documentation)
- [Directives pour les issues](#-directives-pour-les-issues)
- [Consid√©rations de performance](#-consid√©rations-de-performance)
- [Directives de s√©curit√©](#-directives-de-s√©curit√©)
- [Communaut√©](#-communaut√©)

## üìú Code de conduite

Ce projet et tous ceux qui y participent sont r√©gis par notre [Code de conduite](CODE_OF_CONDUCT_fr.md). En participant, vous vous engagez √† respecter ce code.

## üîÑ Processus de d√©veloppement

Nous utilisons GitHub pour h√©berger le code, suivre les issues et les demandes de fonctionnalit√©s, ainsi qu'accepter les pull requests.

### Flux de travail

1. **Fork** le d√©p√¥t
2. **Clone** votre fork localement
3. **Cr√©ez** une branche de fonctionnalit√© depuis `master`
4. **Effectuez** vos modifications
5. **Testez** minutieusement sur tous les tags de build
6. **Soumettez** une pull request

## üöÄ D√©marrage rapide

### Pr√©requis

- **Go 1.21+** - [Installer Go](https://golang.org/doc/install)
- **Git** - [Installer Git](https://git-scm.com/book/fr/v2/D√©marrage-rapide-Installation-de-Git)
- **Make** (optionnel mais recommand√©)

### Configuration de l'environnement de d√©veloppement local

```bash
# 1. Forkez le d√©p√¥t sur GitHub
# 2. Clonez votre fork
git clone https://github.com/YOUR_USERNAME/log.git
cd log

# 3. Ajoutez le remote upstream
git remote add upstream https://github.com/lazygophers/log.git

# 4. Installez les d√©pendances
go mod tidy

# 5. V√©rifiez l'installation
make test-quick
```

### Configuration de l'environnement

```bash
# Configurez votre environnement Go (si ce n'est pas d√©j√† fait)
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin

# Optionnel : Installez des outils utiles
go install golang.org/x/tools/cmd/goimports@latest
go install honnef.co/go/tools/cmd/staticcheck@latest
```

## üì® Processus de Pull Request

### Avant de soumettre

1. **Recherchez** les PR existantes pour √©viter les doublons
2. **Testez** vos modifications sur toutes les configurations de build
3. **Documentez** toute modification majeure
4. **Mettez √† jour** la documentation pertinente
5. **Ajoutez** des tests pour les nouvelles fonctionnalit√©s

### Liste de contr√¥le PR

- [ ] **Qualit√© du code**
  - [ ] Le code suit les directives de style du projet
  - [ ] Aucun nouvel avertissement de linting
  - [ ] Gestion d'erreur appropri√©e
  - [ ] Algorithmes et structures de donn√©es efficaces

- [ ] **Tests**
  - [ ] Tous les tests existants passent : `make test`
  - [ ] Nouveaux tests ajout√©s pour les nouvelles fonctionnalit√©s
  - [ ] Couverture de test maintenue ou am√©lior√©e
  - [ ] Tous les tags de build test√©s : `make test-all`

- [ ] **Documentation**
  - [ ] Le code est correctement comment√©
  - [ ] Documentation API mise √† jour (si n√©cessaire)
  - [ ] README mis √† jour (si n√©cessaire)
  - [ ] Documentation multilingue mise √† jour (si orient√©e utilisateur)

- [ ] **Compatibilit√© de build**
  - [ ] Mode par d√©faut : `go build`
  - [ ] Mode debug : `go build -tags debug`
  - [ ] Mode release : `go build -tags release`
  - [ ] Mode discard : `go build -tags discard`
  - [ ] Modes combin√©s test√©s

### Template de PR

Veuillez utiliser notre [template de PR](.github/pull_request_template.md) lors de la soumission des pull requests.

## üìè Standards de codage

### Guide de style Go

Nous suivons le guide de style Go standard avec quelques ajouts :

```go
// ‚úÖ Bon
func (l *Logger) Info(v ...any) {
    if l.level > InfoLevel {
        return
    }
    l.log(InfoLevel, fmt.Sprint(v...))
}

// ‚ùå Mauvais
func (l *Logger) Info(v ...any){
    if l.level>InfoLevel{
        return
    }
    l.log(InfoLevel,fmt.Sprint(v...))
}
```

### Conventions de nommage

- **Packages** : Courts, minuscules, un seul mot quand possible
- **Fonctions** : CamelCase, descriptives
- **Variables** : camelCase pour locales, CamelCase pour export√©es
- **Constantes** : CamelCase pour export√©es, camelCase pour non-export√©es
- **Interfaces** : Se terminent g√©n√©ralement par "er" (ex. `Writer`, `Formatter`)

### Organisation du code

```
project/
‚îú‚îÄ‚îÄ docs/           # Documentation en plusieurs langues
‚îú‚îÄ‚îÄ .github/        # Templates GitHub et workflows
‚îú‚îÄ‚îÄ logger.go       # Impl√©mentation principale du logger
‚îú‚îÄ‚îÄ entry.go        # Structure d'entr√©e de log
‚îú‚îÄ‚îÄ level.go        # Niveaux de log
‚îú‚îÄ‚îÄ formatter.go    # Formatage des logs
‚îú‚îÄ‚îÄ output.go       # Gestion de sortie
‚îî‚îÄ‚îÄ *_test.go      # Tests co-localis√©s avec le source
```

### Gestion d'erreurs

```go
// ‚úÖ Pr√©f√©r√© : Retourner les erreurs, ne pas paniquer
func NewLogger(config Config) (*Logger, error) {
    if err := config.Validate(); err != nil {
        return nil, fmt.Errorf("invalid config: %w", err)
    }
    return &Logger{...}, nil
}

// ‚ùå √âviter : Paniquer dans le code de biblioth√®que
func NewLogger(config Config) *Logger {
    if err := config.Validate(); err != nil {
        panic(err) // Ne pas faire cela
    }
    return &Logger{...}
}
```

## üß™ Directives de test

### Structure de test

```go
func TestLogger_Info(t *testing.T) {
    tests := []struct {
        name     string
        level    Level
        message  string
        expected bool
    }{
        {"info level allows info", InfoLevel, "test", true},
        {"warn level blocks info", WarnLevel, "test", false},
    }

    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            // Impl√©mentation du test
        })
    }
}
```

### Exigences de couverture

- **Minimum** : 90% de couverture pour le nouveau code
- **Objectif** : 95%+ de couverture globale
- **Tous les tags de build** doivent maintenir la couverture
- Utilisez `make coverage-all` pour v√©rifier

### Commandes de test

```bash
# Test rapide sur tous les tags de build
make test-quick

# Suite de tests compl√®te avec couverture
make test-all

# Rapports de couverture
make coverage-html

# Benchmarks
make benchmark
```

## üèóÔ∏è Exigences des tags de build

Toutes les modifications doivent √™tre compatibles avec notre syst√®me de tags de build :

### Tags de build support√©s

- **Par d√©faut** (`go build`) : Fonctionnalit√© compl√®te
- **Debug** (`go build -tags debug`) : D√©bogage am√©lior√©
- **Release** (`go build -tags release`) : Optimis√© pour la production
- **Discard** (`go build -tags discard`) : Performance maximale

### Test des tags de build

```bash
# Tester chaque configuration de build
make test-default
make test-debug  
make test-release
make test-discard

# Tester les combinaisons
make test-debug-discard
make test-release-discard

# Tout en un
make test-all
```

### Directives pour les tags de build

```go
//go:build debug
// +build debug

package log

// Impl√©mentations sp√©cifiques au debug
```

## üìö Documentation

### Documentation du code

- **Toutes les fonctions export√©es** doivent avoir des commentaires clairs
- **Les algorithmes complexes** ont besoin d'explications
- **Exemples** pour l'utilisation non-triviale
- **Notes de s√©curit√© des threads** le cas √©ch√©ant

```go
// SetLevel d√©finit le niveau de log minimum.
// Les logs en dessous de ce niveau seront ignor√©s.
// Cette m√©thode est thread-safe.
//
// Exemple :
//   logger.SetLevel(log.InfoLevel)
//   logger.Debug("ignored")  // Ne sortira pas
//   logger.Info("visible")   // Sortira
func (l *Logger) SetLevel(level Level) *Logger {
    l.mu.Lock()
    defer l.mu.Unlock()
    l.level = level
    return l
}
```

### Mises √† jour du README

Lors de l'ajout de fonctionnalit√©s, mettez √† jour :
- Le README.md principal
- Tous les README sp√©cifiques √† la langue dans `docs/`
- Les exemples de code
- Les listes de fonctionnalit√©s

## üêõ Directives pour les issues

### Rapports de bugs

Utilisez le [template de rapport de bug](.github/ISSUE_TEMPLATE/bug_report.md) et incluez :

- **Description claire** du probl√®me
- **√âtapes pour reproduire**
- **Comportement attendu vs r√©el**
- **D√©tails de l'environnement** (OS, version Go, tags de build)
- **√âchantillon de code minimal**

### Demandes de fonctionnalit√©s

Utilisez le [template de demande de fonctionnalit√©](.github/ISSUE_TEMPLATE/feature_request.md) et incluez :

- **Motivation claire** pour la fonctionnalit√©
- **Design d'API** propos√©
- **Consid√©rations d'impl√©mentation**
- **Analyse des changements majeurs**

### Questions

Utilisez le [template de question](.github/ISSUE_TEMPLATE/question.md) pour :

- Questions d'utilisation
- Aide de configuration
- Meilleures pratiques
- Conseils d'int√©gration

## üöÄ Consid√©rations de performance

### Benchmarking

Toujours benchmarker les modifications sensibles aux performances :

```bash
# Ex√©cuter les benchmarks
go test -bench=. -benchmem

# Comparer avant/apr√®s
go test -bench=. -benchmem > before.txt
# Faire des modifications
go test -bench=. -benchmem > after.txt
benchcmp before.txt after.txt
```

### Directives de performance

- **Minimiser les allocations** dans les chemins critiques
- **Utiliser les pools d'objets** pour les objets fr√©quemment cr√©√©s
- **Retour anticip√©** pour les niveaux de log d√©sactiv√©s
- **√âviter la r√©flexion** dans le code critique
- **Profiler avant d'optimiser**

### Gestion m√©moire

```go
// ‚úÖ Bon : Utiliser les pools d'objets
var entryPool = sync.Pool{
    New: func() interface{} {
        return &Entry{}
    },
}

func getEntry() *Entry {
    return entryPool.Get().(*Entry)
}

func putEntry(e *Entry) {
    e.Reset()
    entryPool.Put(e)
}
```

## üîí Directives de s√©curit√©

### Donn√©es sensibles

- **Ne jamais logger** les mots de passe, tokens ou donn√©es sensibles
- **Assainir** l'entr√©e utilisateur dans les messages de log
- **√âviter** de logger les corps de requ√™te/r√©ponse complets
- **Utiliser** le logging structur√© pour un meilleur contr√¥le

```go
// ‚úÖ Bon
logger.Info("User login attempt", "user_id", userID, "ip", clientIP)

// ‚ùå Mauvais
logger.Infof("User login: %+v", userRequest) // Peut contenir un mot de passe
```

### D√©pendances

- Garder les d√©pendances **√† jour**
- **R√©viser** soigneusement les nouvelles d√©pendances
- **Minimiser** les d√©pendances externes
- **Utiliser** `go mod verify` pour v√©rifier l'int√©grit√©

## üë• Communaut√©

### Obtenir de l'aide

- üìñ [Documentation](../README_fr.md)
- üí¨ [Discussions GitHub](https://github.com/lazygophers/log/discussions)
- üêõ [Tracker d'issues](https://github.com/lazygophers/log/issues)
- üìß Email : support@lazygophers.com

### Directives de communication

- √ätre **respectueux** et inclusif
- **Rechercher** avant de poser des questions
- **Fournir du contexte** quand on demande de l'aide
- **Aider les autres** quand on peut
- **Suivre** le [Code de conduite](CODE_OF_CONDUCT_fr.md)

## üéØ Reconnaissance

Les contributeurs sont reconnus de plusieurs fa√ßons :

- Section **contributeurs du README**
- Mentions dans les **notes de release**
- Graphiques des **contributeurs GitHub**
- Posts d'**appr√©ciation de la communaut√©**

## üìù Licence

En contribuant, vous acceptez que vos contributions soient sous licence MIT.

---

## üåç Documentation multilingue

Ce document est disponible en plusieurs langues :

- [üá∫üá∏ English](CONTRIBUTING.md)
- [üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá](CONTRIBUTING_zh-CN.md)
- [üáπüáº ÁπÅÈ´î‰∏≠Êñá](CONTRIBUTING_zh-TW.md)
- [üá´üá∑ Fran√ßais](CONTRIBUTING_fr.md) (Actuel)
- [üá∑üá∫ –†—É—Å—Å–∫–∏–π](CONTRIBUTING_ru.md)
- [üá™üá∏ Espa√±ol](CONTRIBUTING_es.md)
- [üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©](CONTRIBUTING_ar.md)

---

**Merci de contribuer √† LazyGophers Log ! üöÄ**