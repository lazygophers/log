# ๐ LazyGophers Log

[![Go Version](https://img.shields.io/badge/go-1.19+-blue.svg)](https://golang.org)
[![Test Coverage](https://img.shields.io/badge/coverage-93.0%25-brightgreen.svg)](https://github.com/lazygophers/log)
[![Go Report Card](https://goreportcard.com/badge/github.com/lazygophers/log)](https://goreportcard.com/report/github.com/lazygophers/log)
[![DeepWiki](https://img.shields.io/badge/DeepWiki-documented-blue?logo=bookstack&logoColor=white)](https://deepwiki.ai/docs/lazygophers/log)
[![Go.Dev Downloads](https://pkg.go.dev/badge/github.com/lazygophers/log.svg)](https://pkg.go.dev/github.com/lazygophers/log)
[![Goproxy.cn](https://goproxy.cn/stats/github.com/lazygophers/log/badges/download-count.svg)](https://goproxy.cn/stats/github.com/lazygophers/log)
[![Goproxy.io](https://goproxy.io/stats/github.com/lazygophers/log/badges/download-count.svg)](https://goproxy.io/stats/github.com/lazygophers/log)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ููุชุจุฉ ุชุณุฌูู ุนุงููุฉ ุงูุฃุฏุงุก ูุบููุฉ ุจุงูููุฒุงุช ูุชุทุจููุงุช Go ูุน ุฏุนู ุงูุนูุงูุงุช ุงููุชุนุฏุฏุฉ ููุจูุงุก ูุงููุชุงุจุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุฎูุงุฑุงุช ุงูุชุฎุตูุต ุงููุงุณุนุฉ.

## ๐ ูุบุงุช ุงูุชูุซูู

- [๐บ๐ธ English](../README.md)
- [๐จ๐ณ ็ฎไฝไธญๆ](README.zh-CN.md)
- [๐น๐ผ ็น้ซไธญๆ](README.zh-TW.md)
- [๐ซ๐ท Franรงais](README.fr.md)
- [๐ท๐บ ะัััะบะธะน](README.ru.md)
- [๐ช๐ธ Espaรฑol](README.es.md)
- [๐ธ๐ฆ ุงูุนุฑุจูุฉ](README.ar.md) (ุงูุญุงูู)

## โจ ุงูููุฒุงุช

- **๐ ุฃุฏุงุก ุนุงูู**: ุฏุนู ุชุฌููุน ุงููุงุฆูุงุช ูุงููุชุงุจุฉ ุบูุฑ ุงููุชุฒุงููุฉ
- **๐๏ธ ุฏุนู ุนูุงูุงุช ุงูุจูุงุก**: ุณููููุงุช ูุฎุชููุฉ ูุฃูุถุงุน ุงูุชุตุญูุญ ูุงูุฅุตุฏุงุฑ ูุงูุชุฌุงูู
- **๐ ุฏูุฑุงู ุงูุณุฌูุงุช**: ุฏูุฑุงู ุชููุงุฆู ููููุงุช ุงูุณุฌูุงุช ูู ุณุงุนุฉ
- **๐จ ุชูุณูู ุบูู**: ุชูุณููุงุช ุณุฌูุงุช ูุงุจูุฉ ููุชุฎุตูุต ูุน ุฏุนู ุงูุฃููุงู
- **๐ ุงูุชุชุจุน ุงูุณูุงูู**: ุชุชุจุน ูุนุฑู Goroutine ููุนุฑู ุงูุชุชุจุน
- **๐ ุชูุงูู ุงูุฅุทุงุฑุงุช**: ุชูุงูู ุฃุตูู ูุน ูุณุฌู Zap
- **โ๏ธ ูุงุจู ููุชูููู ุจุฏุฑุฌุฉ ุนุงููุฉ**: ูุณุชููุงุช ูุฅุฎุฑุงุฌุงุช ูุชูุณููุงุช ูุฑูุฉ
- **๐งช ููุฎุชุจุฑ ุฌูุฏุงู**: ุชุบุทูุฉ ุงุฎุชุจุงุฑ 93.0% ุนุจุฑ ุฌููุน ุชููููุงุช ุงูุจูุงุก

## ๐ ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ

### ุงูุชุซุจูุช

```bash
go get github.com/lazygophers/log
```

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```go
package main

import (
    "github.com/lazygophers/log"
)

func main() {
    // ุชุณุฌูู ุจุณูุท
    log.Info("ูุฑุญุจุงูุ ุงูุนุงูู!")
    log.Debug("ูุฐู ุฑุณุงูุฉ ุชุตุญูุญ")
    log.Warn("ูุฐุง ุชุญุฐูุฑ")
    log.Error("ูุฐุง ุฎุทุฃ")

    // ุชุณุฌูู ููุณู
    log.Infof("ุงููุณุชุฎุฏู %s ุณุฌู ุงูุฏุฎูู ุจุงููุนุฑู %d", "ุฃุญูุฏ", 123)
    
    // ูุน ูุณุฌู ูุฎุตุต
    logger := log.New()
    logger.SetLevel(log.InfoLevel)
    logger.Info("ุฑุณุงูุฉ ุงููุณุฌู ุงููุฎุตุต")
}
```

### ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู

```go
package main

import (
    "context"
    "os"
    "github.com/lazygophers/log"
)

func main() {
    // ุฅูุดุงุก ูุณุฌู ูุน ุฅุฎุฑุงุฌ ููููู
    logger := log.New()
    
    // ุชุนููู ุงูุฅุฎุฑุงุฌ ูููู ูุน ุฏูุฑุงู ูู ุณุงุนุฉ
    writer := log.GetOutputWriterHourly("./logs/app.log")
    logger.SetOutput(writer)
    
    // ุชูููู ุงูุชูุณูู
    logger.SetLevel(log.DebugLevel)
    logger.SetPrefixMsg("[APP] ")
    logger.Caller(true) // ุชูููู ูุนูููุงุช ุงููุณุชุฏุนู
    
    // ุงูุชุณุฌูู ุงูุณูุงูู
    ctxLogger := logger.CloneToCtx()
    ctxLogger.Info(context.Background(), "ุชุณุฌูู ูุงุนู ุจุงูุณูุงู")
    
    // ุงูุชุณุฌูู ุบูุฑ ุงููุชุฒุงูู ููุณููุงุฑูููุงุช ุนุงููุฉ ุงูุฅูุชุงุฌูุฉ
    asyncWriter := log.NewAsyncWriter(writer, 1000)
    logger.SetOutput(asyncWriter)
    defer asyncWriter.Close()
    
    logger.Info("ุชุณุฌูู ุบูุฑ ูุชุฒุงูู ุนุงูู ุงูุฃุฏุงุก")
}
```

## ๐๏ธ ุนูุงูุงุช ุงูุจูุงุก

ุชุฏุนู ุงูููุชุจุฉ ุฃูุถุงุน ุจูุงุก ูุฎุชููุฉ ูู ุฎูุงู ุนูุงูุงุช ุจูุงุก Go:

### ุงููุถุน ุงูุงูุชุฑุงุถู (ุจุฏูู ุนูุงูุงุช)
```bash
go build
```
- ูุธุงุฆู ุงูุชุณุฌูู ุงููุงููุฉ
- ุฑุณุงุฆู ุงูุชุตุญูุญ ููุนูุฉ
- ุฃุฏุงุก ููุงุณู

### ูุถุน ุงูุชุตุญูุญ
```bash
go build -tags debug
```
- ูุนูููุงุช ุชุตุญูุญ ูุญุณูุฉ
- ูุนูููุงุช ููุตูุฉ ุนู ุงููุณุชุฏุนู
- ุฏุนู ุชุญููู ุงูุฃุฏุงุก

### ูุถุน ุงูุฅุตุฏุงุฑ
```bash
go build -tags release
```
- ูุญุณู ููุฅูุชุงุฌ
- ุฑุณุงุฆู ุงูุชุตุญูุญ ูุนุทูุฉ
- ุฏูุฑุงู ุชููุงุฆู ููููุงุช ุงูุณุฌูุงุช

### ูุถุน ุงูุชุฌุงูู
```bash
go build -tags discard
```
- ุฃูุตู ุฃุฏุงุก
- ุฌููุน ุงูุณุฌูุงุช ูุชู ุชุฌุงูููุง
- ุตูุฑ ุฃุนุจุงุก ุชุณุฌูู

### ุงูุฃูุถุงุน ุงููุฏูุฌุฉ
```bash
go build -tags "debug,discard"    # ุงูุชุตุญูุญ ูุน ุงูุชุฌุงูู
go build -tags "release,discard"  # ุงูุฅุตุฏุงุฑ ูุน ุงูุชุฌุงูู
```

## ๐ ูุณุชููุงุช ุงูุณุฌู

ุชุฏุนู ุงูููุชุจุฉ 7 ูุณุชููุงุช ููุณุฌู (ูู ุงูุฃุนูู ุฅูู ุงูุฃุฏูู ุฃููููุฉ):

| ุงููุณุชูู | ุงููููุฉ | ุงููุตู |
|---------|---------|--------|
| `PanicLevel` | 0 | ูุณุฌู ุซู ูุณุชุฏุนู panic |
| `FatalLevel` | 1 | ูุณุฌู ุซู ูุณุชุฏุนู os.Exit(1) |
| `ErrorLevel` | 2 | ุญุงูุงุช ุงูุฃุฎุทุงุก |
| `WarnLevel` | 3 | ุญุงูุงุช ุงูุชุญุฐูุฑ |
| `InfoLevel` | 4 | ุงูุฑุณุงุฆู ุงูุฅุนูุงููุฉ |
| `DebugLevel` | 5 | ุฑุณุงุฆู ูุณุชูู ุงูุชุตุญูุญ |
| `TraceLevel` | 6 | ุฃูุซุฑ ุงูุชุณุฌููุงุช ุชูุตููุงู |

## ๐ ุชูุงูู ุงูุฅุทุงุฑุงุช

### ุชูุงูู Zap

```go
import (
    "go.uber.org/zap"
    "go.uber.org/zap/zapcore"
    "github.com/lazygophers/log"
)

// ุฅูุดุงุก ูุณุฌู zap ููุชุจ ุฅูู ูุธุงู ุงูุณุฌูุงุช ุงูุฎุงุต ุจูุง
logger := log.New()
hook := log.NewZapHook(logger)

core := zapcore.NewCore(
    zapcore.NewJSONEncoder(zap.NewProductionEncoderConfig()),
    hook,
    zapcore.InfoLevel,
)
zapLogger := zap.New(core)

zapLogger.Info("ุฑุณุงูุฉ ูู Zap", zap.String("key", "value"))
```

## ๐งช ุงูุงุฎุชุจุงุฑ

ุชุฃุชู ุงูููุชุจุฉ ูุน ุฏุนู ุงุฎุชุจุงุฑ ุดุงูู:

```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
make test

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุน ุงูุชุบุทูุฉ ูุฌููุน ุนูุงูุงุช ุงูุจูุงุก
make coverage-all

# ุงุฎุชุจุงุฑ ุณุฑูุน ุนุจุฑ ุฌููุน ุนูุงูุงุช ุงูุจูุงุก
make test-quick

# ุชูููุฏ ุชูุงุฑูุฑ ุชุบุทูุฉ HTML
make coverage-html
```

### ูุชุงุฆุฌ ุงูุชุบุทูุฉ ุญุณุจ ุนูุงูุฉ ุงูุจูุงุก

| ุนูุงูุฉ ุงูุจูุงุก | ุงูุชุบุทูุฉ |
|--------------|----------|
| ุงูุงูุชุฑุงุถู | 92.9% |
| ุงูุชุตุญูุญ | 93.1% |
| ุงูุฅุตุฏุงุฑ | 93.5% |
| ุงูุชุฌุงูู | 93.1% |
| ุงูุชุตุญูุญ+ุงูุชุฌุงูู | 93.1% |
| ุงูุฅุตุฏุงุฑ+ุงูุชุฌุงูู | 93.3% |

## โ๏ธ ุฎูุงุฑุงุช ุงูุชูููู

### ุชูููู ุงููุณุฌู

```go
logger := log.New()

// ุชุนููู ุงูุญุฏ ุงูุฃุฏูู ููุณุชูู ุงูุณุฌู
logger.SetLevel(log.InfoLevel)

// ุชูููู ุงูุฅุฎุฑุงุฌ
logger.SetOutput(os.Stdout) // ูุงุชุจ ูุงุญุฏ
logger.SetOutput(writer1, writer2, writer3) // ุนุฏุฉ ูุชุงุจ

// ุชุฎุตูุต ุงูุฑุณุงุฆู
logger.SetPrefixMsg("[ุชุทุจููู] ")
logger.SetSuffixMsg(" [ุงูููุงูุฉ]")
logger.AppendPrefixMsg("ุฅุถุงูู: ")

// ุชูููู ุงูุชูุณูู
logger.ParsingAndEscaping(false) // ุชุนุทูู ุชุณูุณูุงุช ุงูุฅููุงุช
logger.Caller(true) // ุชูููู ูุนูููุงุช ุงููุณุชุฏุนู
logger.SetCallerDepth(4) // ุถุจุท ุนูู ููุฏุณ ุงููุณุชุฏุนู
```

## ๐ ุฏูุฑุงู ุงูุณุฌูุงุช

ุฏูุฑุงู ุชููุงุฆู ููุณุฌูุงุช ูุน ูุชุฑุงุช ูุงุจูุฉ ููุชูููู:

```go
// ุฏูุฑุงู ูู ุณุงุนุฉ
writer := log.GetOutputWriterHourly("./logs/app.log")

// ุณุชูุดุฆ ุงูููุชุจุฉ ูููุงุช ูุซู:
// - app-2024010115.log (2024-01-01 15:00)
// - app-2024010116.log (2024-01-01 16:00)
// - app-2024010117.log (2024-01-01 17:00)
```

## ๐ ุงูุณูุงู ูุงูุชุชุจุน

ุฏุนู ูุฏูุฌ ููุชุณุฌูู ุงููุงุนู ุจุงูุณูุงู ูุงูุชุชุจุน ุงูููุฒุน:

```go
// ุชุนููู ูุนุฑู ุงูุชุชุจุน ููู goroutine ุงูุญุงูู
log.SetTrace("trace-123-456")

// ุงูุญุตูู ุนูู ูุนุฑู ุงูุชุชุจุน
traceID := log.GetTrace()

// ุงูุชุณุฌูู ุงููุงุนู ุจุงูุณูุงู
ctx := context.Background()
ctxLogger := log.CloneToCtx()
ctxLogger.Info(ctx, "ุชู ูุนุงูุฌุฉ ุงูุทูุจ", "user_id", 123)

// ุชุชุจุน ูุนุฑู goroutine ุงูุชููุงุฆู
log.Info("ูุฐุง ุงูุณุฌู ูุชุถูู ุชููุงุฆูุงู ูุนุฑู goroutine")
```

## ๐ ุงูุฃุฏุงุก

ุชู ุชุตููู ุงูููุชุจุฉ ููุชุทุจููุงุช ุนุงููุฉ ุงูุฃุฏุงุก:

- **ุชุฌููุน ุงููุงุฆูุงุช**: ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุงุฆูุงุช ุฅุฏุฎุงู ุงูุณุฌู ูุชูููู ุถุบุท GC
- **ุงููุชุงุจุฉ ุบูุฑ ุงููุชุฒุงููุฉ**: ูุชุงุจุงุช ุณุฌู ุบูุฑ ูุญุฌูุจุฉ ููุณููุงุฑูููุงุช ุนุงููุฉ ุงูุฅูุชุงุฌูุฉ
- **ุชุฑุดูุญ ุงููุณุชูู**: ุงูุชุฑุดูุญ ุงููุจูุฑ ูููุน ุงูุนูููุงุช ุงูููููุฉ
- **ุชุญุณูู ุนูุงูุงุช ุงูุจูุงุก**: ุชุญุณูู ููุช ุงูุชุฌููุน ูุจูุฆุงุช ูุฎุชููุฉ

### ุงููุนุงููุฑ ุงููุฑุฌุนูุฉ

```bash
# ุชุดุบูู ูุนุงููุฑ ุงูุฃุฏุงุก ุงููุฑุฌุนูุฉ
make benchmark

# ูุนุงููุฑ ูุฑุฌุนูุฉ ูุฃูุถุงุน ุงูุจูุงุก ุงููุฎุชููุฉ
make benchmark-debug
make benchmark-release  
make benchmark-discard
```

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู ูุฑุงุฌุนุฉ [ุฏููู ุงููุณุงููุฉ](CONTRIBUTING.md) ููุชูุงุตูู.

### ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุทููุฑ

1. **Fork ู Clone**
   ```bash
   git clone https://github.com/your-username/log.git
   cd log
   ```

2. **ุชุซุจูุช ุงูุชุจุนูุงุช**
   ```bash
   go mod tidy
   ```

3. **ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช**
   ```bash
   make test-all
   ```

4. **ุฅุฑุณุงู Pull Request**
   - ุงุชุจุน [ูุงูุจ PR](../.github/pull_request_template.md) ุงูุฎุงุต ุจูุง
   - ุชุฃูุฏ ูู ูุฌุงุญ ุงูุงุฎุชุจุงุฑุงุช
   - ุญุฏุซ ุงูุชูุซูู ุฅุฐุง ูุฒู ุงูุฃูุฑ

## ๐ ุงููุชุทูุจุงุช

- **Go**: 1.19 ุฃู ุฃุนูู
- **ุงูุชุจุนูุงุช**: 
  - `go.uber.org/zap` (ูุชูุงูู Zap)
  - `github.com/petermattis/goid` (ููุนุฑู goroutine)
  - `github.com/lestrrat-go/file-rotatelogs` (ูุฏูุฑุงู ุงูุณุฌูุงุช)
  - `github.com/google/uuid` (ููุนุฑูุงุช ุงูุชุชุจุน)

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุฑุงุฌุน ููู [LICENSE](../LICENSE) ููุชูุงุตูู.

## ๐ ุดูุฑ ูุชูุฏูุฑ

- [Zap](https://github.com/uber-go/zap) ููุฅููุงู ูุฏุนู ุงูุชูุงูู
- [Logrus](https://github.com/sirupsen/logrus) ูุฃููุงุท ุชุตููู ุงููุณุชููุงุช
- ูุฌุชูุน Go ููุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ ุงููุณุชูุฑุฉ ูุงูุชุญุณููุงุช

## ๐ ุงูุฏุนู

- ๐ [ุงูุชูุซูู](../docs/)
- ๐ [ูุชุชุจุน ุงููุดุงูู](https://github.com/lazygophers/log/issues)
- ๐ฌ [ุงูููุงูุดุงุช](https://github.com/lazygophers/log/discussions)
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@lazygophers.com

---

**ุตููุน ุจู โค๏ธ ูู ูุจู ูุฑูู LazyGophers**