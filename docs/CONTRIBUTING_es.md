# ü§ù Contribuir a LazyGophers Log

¬°Amamos tu contribuci√≥n! Queremos hacer que contribuir a LazyGophers Log sea tan f√°cil y transparente como sea posible, ya sea:

- üêõ Reportar un error
- üí¨ Discutir el estado actual del c√≥digo
- ‚ú® Enviar una solicitud de caracter√≠stica
- üîß Proponer una correcci√≥n
- üöÄ Implementar una nueva caracter√≠stica

## üìã Tabla de Contenidos

- [C√≥digo de Conducta](#-c√≥digo-de-conducta)
- [Proceso de Desarrollo](#-proceso-de-desarrollo)
- [Inicio R√°pido](#-inicio-r√°pido)
- [Proceso de Pull Request](#-proceso-de-pull-request)
- [Est√°ndares de Codificaci√≥n](#-est√°ndares-de-codificaci√≥n)
- [Gu√≠as de Pruebas](#-gu√≠as-de-pruebas)
- [Requisitos de Etiquetas de Construcci√≥n](#Ô∏è-requisitos-de-etiquetas-de-construcci√≥n)
- [Documentaci√≥n](#-documentaci√≥n)
- [Gu√≠as para Issues](#-gu√≠as-para-issues)
- [Consideraciones de Rendimiento](#-consideraciones-de-rendimiento)
- [Gu√≠as de Seguridad](#-gu√≠as-de-seguridad)
- [Comunidad](#-comunidad)

## üìú C√≥digo de Conducta

Este proyecto y todos los que participan en √©l se rigen por nuestro [C√≥digo de Conducta](CODE_OF_CONDUCT_es.md). Al participar, se espera que mantengas este c√≥digo.

## üîÑ Proceso de Desarrollo

Usamos GitHub para alojar el c√≥digo, rastrear issues y solicitudes de caracter√≠sticas, as√≠ como aceptar pull requests.

### Flujo de Trabajo

1. **Fork** el repositorio
2. **Clonar** tu fork localmente
3. **Crear** una rama de caracter√≠stica desde `master`
4. **Hacer** tus cambios
5. **Probar** exhaustivamente en todas las etiquetas de construcci√≥n
6. **Enviar** un pull request

## üöÄ Inicio R√°pido

### Prerrequisitos

- **Go 1.21+** - [Instalar Go](https://golang.org/doc/install)
- **Git** - [Instalar Git](https://git-scm.com/book/es/v2/Inicio---Sobre-el-Control-de-Versiones-Instalaci√≥n-de-Git)
- **Make** (opcional pero recomendado)

### Configuraci√≥n del Entorno de Desarrollo Local

```bash
# 1. Haz fork del repositorio en GitHub
# 2. Clona tu fork
git clone https://github.com/YOUR_USERNAME/log.git
cd log

# 3. Agrega el remoto upstream
git remote add upstream https://github.com/lazygophers/log.git

# 4. Instala las dependencias
go mod tidy

# 5. Verifica la instalaci√≥n
make test-quick
```

### Configuraci√≥n del Entorno

```bash
# Configura tu entorno Go (si no est√° hecho ya)
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin

# Opcional: Instala herramientas √∫tiles
go install golang.org/x/tools/cmd/goimports@latest
go install honnef.co/go/tools/cmd/staticcheck@latest
```

## üì® Proceso de Pull Request

### Antes de Enviar

1. **Buscar** PRs existentes para evitar duplicados
2. **Probar** tus cambios en todas las configuraciones de construcci√≥n
3. **Documentar** cualquier cambio importante
4. **Actualizar** la documentaci√≥n relevante
5. **Agregar** pruebas para nueva funcionalidad

### Lista de Verificaci√≥n PR

- [ ] **Calidad del C√≥digo**
  - [ ] El c√≥digo sigue las gu√≠as de estilo del proyecto
  - [ ] No hay nuevas advertencias de linting
  - [ ] Manejo de errores apropiado
  - [ ] Algoritmos y estructuras de datos eficientes

- [ ] **Pruebas**
  - [ ] Todas las pruebas existentes pasan: `make test`
  - [ ] Nuevas pruebas agregadas para nueva funcionalidad
  - [ ] Cobertura de pruebas mantenida o mejorada
  - [ ] Todas las etiquetas de construcci√≥n probadas: `make test-all`

- [ ] **Documentaci√≥n**
  - [ ] El c√≥digo est√° apropiadamente comentado
  - [ ] Documentaci√≥n API actualizada (si es necesario)
  - [ ] README actualizado (si es necesario)
  - [ ] Documentaci√≥n multiidioma actualizada (si es orientada al usuario)

- [ ] **Compatibilidad de Construcci√≥n**
  - [ ] Modo por defecto: `go build`
  - [ ] Modo debug: `go build -tags debug`
  - [ ] Modo release: `go build -tags release`
  - [ ] Modo discard: `go build -tags discard`
  - [ ] Modos combinados probados

### Plantilla de PR

Por favor usa nuestra [plantilla de PR](.github/pull_request_template.md) al enviar pull requests.

## üìè Est√°ndares de Codificaci√≥n

### Gu√≠a de Estilo Go

Seguimos la gu√≠a de estilo Go est√°ndar con algunas adiciones:

```go
// ‚úÖ Bueno
func (l *Logger) Info(v ...any) {
    if l.level > InfoLevel {
        return
    }
    l.log(InfoLevel, fmt.Sprint(v...))
}

// ‚ùå Malo
func (l *Logger) Info(v ...any){
    if l.level>InfoLevel{
        return
    }
    l.log(InfoLevel,fmt.Sprint(v...))
}
```

### Convenciones de Nomenclatura

- **Paquetes**: Cortos, min√∫sculas, una palabra cuando sea posible
- **Funciones**: CamelCase, descriptivas
- **Variables**: camelCase para locales, CamelCase para exportadas
- **Constantes**: CamelCase para exportadas, camelCase para no exportadas
- **Interfaces**: Usualmente terminan en "er" (ej. `Writer`, `Formatter`)

### Organizaci√≥n del C√≥digo

```
project/
‚îú‚îÄ‚îÄ docs/           # Documentaci√≥n en m√∫ltiples idiomas
‚îú‚îÄ‚îÄ .github/        # Plantillas GitHub y workflows
‚îú‚îÄ‚îÄ logger.go       # Implementaci√≥n principal del logger
‚îú‚îÄ‚îÄ entry.go        # Estructura de entrada de log
‚îú‚îÄ‚îÄ level.go        # Niveles de log
‚îú‚îÄ‚îÄ formatter.go    # Formateo de logs
‚îú‚îÄ‚îÄ output.go       # Gesti√≥n de salida
‚îî‚îÄ‚îÄ *_test.go      # Pruebas co-ubicadas con el c√≥digo fuente
```

### Manejo de Errores

```go
// ‚úÖ Preferido: Retornar errores, no hacer panic
func NewLogger(config Config) (*Logger, error) {
    if err := config.Validate(); err != nil {
        return nil, fmt.Errorf("invalid config: %w", err)
    }
    return &Logger{...}, nil
}

// ‚ùå Evitar: Hacer panic en c√≥digo de biblioteca
func NewLogger(config Config) *Logger {
    if err := config.Validate(); err != nil {
        panic(err) // No hagas esto
    }
    return &Logger{...}
}
```

## üß™ Gu√≠as de Pruebas

### Estructura de Pruebas

```go
func TestLogger_Info(t *testing.T) {
    tests := []struct {
        name     string
        level    Level
        message  string
        expected bool
    }{
        {"info level allows info", InfoLevel, "test", true},
        {"warn level blocks info", WarnLevel, "test", false},
    }

    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            // Implementaci√≥n de la prueba
        })
    }
}
```

### Requisitos de Cobertura

- **M√≠nimo**: 90% de cobertura para c√≥digo nuevo
- **Objetivo**: 95%+ de cobertura global
- **Todas las etiquetas de construcci√≥n** deben mantener cobertura
- Usa `make coverage-all` para verificar

### Comandos de Pruebas

```bash
# Prueba r√°pida en todas las etiquetas de construcci√≥n
make test-quick

# Suite completa de pruebas con cobertura
make test-all

# Reportes de cobertura
make coverage-html

# Benchmarks
make benchmark
```

## üèóÔ∏è Requisitos de Etiquetas de Construcci√≥n

Todos los cambios deben ser compatibles con nuestro sistema de etiquetas de construcci√≥n:

### Etiquetas de Construcci√≥n Soportadas

- **Por defecto** (`go build`): Funcionalidad completa
- **Debug** (`go build -tags debug`): Depuraci√≥n mejorada
- **Release** (`go build -tags release`): Optimizado para producci√≥n
- **Discard** (`go build -tags discard`): M√°ximo rendimiento

### Pruebas de Etiquetas de Construcci√≥n

```bash
# Probar cada configuraci√≥n de construcci√≥n
make test-default
make test-debug  
make test-release
make test-discard

# Probar combinaciones
make test-debug-discard
make test-release-discard

# Todo en uno
make test-all
```

### Gu√≠as de Etiquetas de Construcci√≥n

```go
//go:build debug
// +build debug

package log

// Implementaciones espec√≠ficas de debug
```

## üìö Documentaci√≥n

### Documentaci√≥n del C√≥digo

- **Todas las funciones exportadas** deben tener comentarios claros
- **Algoritmos complejos** necesitan explicaci√≥n
- **Ejemplos** para uso no trivial
- **Notas de seguridad de hilos** donde sea aplicable

```go
// SetLevel establece el nivel m√≠nimo de logging.
// Los logs debajo de este nivel ser√°n ignorados.
// Este m√©todo es thread-safe.
//
// Ejemplo:
//   logger.SetLevel(log.InfoLevel)
//   logger.Debug("ignored")  // No se mostrar√°
//   logger.Info("visible")   // Se mostrar√°
func (l *Logger) SetLevel(level Level) *Logger {
    l.mu.Lock()
    defer l.mu.Unlock()
    l.level = level
    return l
}
```

### Actualizaciones del README

Al agregar caracter√≠sticas, actualiza:
- El README.md principal
- Todos los READMEs espec√≠ficos de idioma en `docs/`
- Ejemplos de c√≥digo
- Listas de caracter√≠sticas

## üêõ Gu√≠as para Issues

### Reportes de Errores

Usa la [plantilla de reporte de error](.github/ISSUE_TEMPLATE/bug_report.md) e incluye:

- **Descripci√≥n clara** del problema
- **Pasos para reproducir**
- **Comportamiento esperado vs actual**
- **Detalles del entorno** (OS, versi√≥n de Go, etiquetas de construcci√≥n)
- **Muestra de c√≥digo m√≠nima**

### Solicitudes de Caracter√≠sticas

Usa la [plantilla de solicitud de caracter√≠stica](.github/ISSUE_TEMPLATE/feature_request.md) e incluye:

- **Motivaci√≥n clara** para la caracter√≠stica
- **Dise√±o de API** propuesto
- **Consideraciones de implementaci√≥n**
- **An√°lisis de cambios importantes**

### Preguntas

Usa la [plantilla de pregunta](.github/ISSUE_TEMPLATE/question.md) para:

- Preguntas de uso
- Ayuda de configuraci√≥n
- Mejores pr√°cticas
- Gu√≠a de integraci√≥n

## üöÄ Consideraciones de Rendimiento

### Benchmarking

Siempre haz benchmark de cambios sensibles al rendimiento:

```bash
# Ejecutar benchmarks
go test -bench=. -benchmem

# Comparar antes/despu√©s
go test -bench=. -benchmem > before.txt
# Hacer cambios
go test -bench=. -benchmem > after.txt
benchcmp before.txt after.txt
```

### Gu√≠as de Rendimiento

- **Minimizar asignaciones** en rutas cr√≠ticas
- **Usar pools de objetos** para objetos creados frecuentemente
- **Retorno temprano** para niveles de log deshabilitados
- **Evitar reflexi√≥n** en c√≥digo cr√≠tico de rendimiento
- **Perfilar antes de optimizar**

### Gesti√≥n de Memoria

```go
// ‚úÖ Bueno: Usar pools de objetos
var entryPool = sync.Pool{
    New: func() interface{} {
        return &Entry{}
    },
}

func getEntry() *Entry {
    return entryPool.Get().(*Entry)
}

func putEntry(e *Entry) {
    e.Reset()
    entryPool.Put(e)
}
```

## üîí Gu√≠as de Seguridad

### Datos Sensibles

- **Nunca loguear** contrase√±as, tokens o datos sensibles
- **Limpiar** entrada de usuario en mensajes de log
- **Evitar** loguear cuerpos completos de solicitud/respuesta
- **Usar** logging estructurado para mejor control

```go
// ‚úÖ Bueno
logger.Info("User login attempt", "user_id", userID, "ip", clientIP)

// ‚ùå Malo
logger.Infof("User login: %+v", userRequest) // Puede contener contrase√±a
```

### Dependencias

- Mantener dependencias **actualizadas**
- **Revisar** cuidadosamente nuevas dependencias
- **Minimizar** dependencias externas
- **Usar** `go mod verify` para verificar integridad

## üë• Comunidad

### Obtener Ayuda

- üìñ [Documentaci√≥n](../README_es.md)
- üí¨ [Discusiones GitHub](https://github.com/lazygophers/log/discussions)
- üêõ [Rastreador de Issues](https://github.com/lazygophers/log/issues)
- üìß Email: support@lazygophers.com

### Gu√≠as de Comunicaci√≥n

- Ser **respetuoso** e inclusivo
- **Buscar** antes de hacer preguntas
- **Proporcionar contexto** al pedir ayuda
- **Ayudar a otros** cuando puedas
- **Seguir** el [C√≥digo de Conducta](CODE_OF_CONDUCT_es.md)

## üéØ Reconocimiento

Los contribuyentes son reconocidos de varias maneras:

- Secci√≥n de **contribuyentes del README**
- Menciones en **notas de lanzamiento**
- Gr√°ficos de **contribuyentes de GitHub**
- Posts de **apreciaci√≥n de la comunidad**

## üìù Licencia

Al contribuir, aceptas que tus contribuciones ser√°n licenciadas bajo la Licencia MIT.

---

## üåç Documentaci√≥n Multiidioma

Este documento est√° disponible en m√∫ltiples idiomas:

- [üá∫üá∏ English](CONTRIBUTING.md)
- [üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá](CONTRIBUTING_zh-CN.md)
- [üáπüáº ÁπÅÈ´î‰∏≠Êñá](CONTRIBUTING_zh-TW.md)
- [üá´üá∑ Fran√ßais](CONTRIBUTING_fr.md)
- [üá∑üá∫ –†—É—Å—Å–∫–∏–π](CONTRIBUTING_ru.md)
- [üá™üá∏ Espa√±ol](CONTRIBUTING_es.md) (Actual)
- [üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©](CONTRIBUTING_ar.md)

---

**¬°Gracias por contribuir a LazyGophers Log! üöÄ**