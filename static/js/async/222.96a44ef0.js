"use strict";(self.webpackChunklazygophers_log_docs=self.webpackChunklazygophers_log_docs||[]).push([["222"],{1362:function(e,n,s){s.r(n),s.d(n,{default:()=>h});var r=s(5893),i=s(65);function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",h3:"h3",ol:"ol",strong:"strong",code:"code",pre:"pre",input:"input",hr:"hr"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"-为-lazygophers-log-贡献代码",children:["\uD83E\uDD1D 为 LazyGophers Log 贡献代码",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-为-lazygophers-log-贡献代码",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们非常欢迎您的贡献！我们希望让为 LazyGophers Log 贡献代码变得尽可能简单和透明，无论是："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uD83D\uDC1B 报告错误"}),"\n",(0,r.jsx)(n.li,{children:"\uD83D\uDCAC 讨论代码当前状态"}),"\n",(0,r.jsx)(n.li,{children:"✨ 提交功能请求"}),"\n",(0,r.jsx)(n.li,{children:"\uD83D\uDD27 提出修复方案"}),"\n",(0,r.jsx)(n.li,{children:"\uD83D\uDE80 实现新功能"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-目录",children:["\uD83D\uDCCB 目录",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-目录",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E8%A1%8C%E4%B8%BA%E5%87%86%E5%88%99",children:"行为准则"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B",children:"开发流程"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8",children:"开始使用"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E6%8B%89%E5%8F%96%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B",children:"拉取请求流程"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86",children:"编码标准"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E6%B5%8B%E8%AF%95%E6%8C%87%E5%8D%97",children:"测试指南"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#%EF%B8%8F-%E6%9E%84%E5%BB%BA%E6%A0%87%E7%AD%BE%E8%A6%81%E6%B1%82",children:"构建标签要求"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E6%96%87%E6%A1%A3",children:"文档"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E9%97%AE%E9%A2%98%E6%8C%87%E5%8D%97",children:"问题指南"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E6%80%A7%E8%83%BD%E8%80%83%E8%99%91",children:"性能考虑"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E5%AE%89%E5%85%A8%E6%8C%87%E5%8D%97",children:"安全指南"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#-%E7%A4%BE%E5%8C%BA",children:"社区"})}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-行为准则",children:["\uD83D\uDCDC 行为准则",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-行为准则",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["本项目及其所有参与者都受我们的",(0,r.jsx)(n.a,{href:"/CODE_OF_CONDUCT",children:"行为准则"}),"约束。通过参与，您需要遵守此准则。"]}),"\n",(0,r.jsxs)(n.h2,{id:"-开发流程",children:["\uD83D\uDD04 开发流程",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-开发流程",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们使用 GitHub 来托管代码、跟踪问题和功能请求，以及接受拉取请求。"}),"\n",(0,r.jsxs)(n.h3,{id:"工作流程",children:["工作流程",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工作流程",children:"#"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fork"})," 仓库"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clone"})," 您的 fork 到本地"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"创建"})," 从 ",(0,r.jsx)(n.code,{children:"master"})," 分支创建功能分支"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"进行"})," 您的更改"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"测试"})," 在所有构建标签下进行彻底测试"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"提交"})," 拉取请求"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-开始使用",children:["\uD83D\uDE80 开始使用",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-开始使用",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"先决条件",children:["先决条件",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#先决条件",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Go 1.21+"})," - ",(0,r.jsx)(n.a,{href:"https://golang.org/doc/install",target:"_blank",rel:"noopener noreferrer",children:"安装 Go"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Git"})," - ",(0,r.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git",target:"_blank",rel:"noopener noreferrer",children:"安装 Git"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Make"})," (可选但推荐)"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"本地开发设置",children:["本地开发设置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#本地开发设置",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 1. 在 GitHub 上 Fork 仓库\n# 2. Clone 您的 fork\ngit clone https://github.com/YOUR_USERNAME/log.git\ncd log\n\n# 3. 添加上游远程仓库\ngit remote add upstream https://github.com/lazygophers/log.git\n\n# 4. 安装依赖\ngo mod tidy\n\n# 5. 验证安装\nmake test-quick\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"环境设置",children:["环境设置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境设置",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 设置 Go 环境（如果尚未设置）\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOPATH/bin\n\n# 可选：安装有用的工具\ngo install golang.org/x/tools/cmd/goimports@latest\ngo install honnef.co/go/tools/cmd/staticcheck@latest\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"-拉取请求流程",children:["\uD83D\uDCE8 拉取请求流程",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-拉取请求流程",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"提交前",children:["提交前",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#提交前",children:"#"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"搜索"})," 现有 PR 以避免重复"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"测试"})," 您的更改在所有构建配置下"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"记录"})," 任何破坏性更改"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"更新"})," 相关文档"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"添加"})," 新功能的测试"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"pr-检查清单",children:["PR 检查清单",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pr-检查清单",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"代码质量"})]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","代码遵循项目风格指南"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","没有新的 lint 警告"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","正确的错误处理"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","高效的算法和数据结构"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"测试"})]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","所有现有测试通过：",(0,r.jsx)(n.code,{children:"make test"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","为新功能添加了新测试"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","测试覆盖率保持或提高"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","所有构建标签已测试：",(0,r.jsx)(n.code,{children:"make test-all"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"文档"})]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","代码有适当的注释"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","API 文档已更新（如果需要）"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","README 已更新（如果需要）"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","多语言文档已更新（如果是面向用户的）"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"构建兼容性"})]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","默认模式：",(0,r.jsx)(n.code,{children:"go build"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","调试模式：",(0,r.jsx)(n.code,{children:"go build -tags debug"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","发布模式：",(0,r.jsx)(n.code,{children:"go build -tags release"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","丢弃模式：",(0,r.jsx)(n.code,{children:"go build -tags discard"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","组合模式已测试"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"pr-模板",children:["PR 模板",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pr-模板",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["提交拉取请求时，请使用我们的",(0,r.jsx)(n.a,{href:"/zh-TW/.github/pull_request_template",children:"PR 模板"}),"。"]}),"\n",(0,r.jsxs)(n.h2,{id:"-编码标准",children:["\uD83D\uDCCF 编码标准",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-编码标准",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"go-风格指南",children:["Go 风格指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#go-风格指南",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们遵循标准的 Go 风格指南，并有一些补充："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// ✅ Good\nfunc (l *Logger) Info(v ...any) {\n    if l.level > InfoLevel {\n        return\n    }\n    l.log(InfoLevel, fmt.Sprint(v...))\n}\n\n// ❌ Bad\nfunc (l *Logger) Info(v ...any){\n    if l.level>InfoLevel{\n        return\n    }\n    l.log(InfoLevel,fmt.Sprint(v...))\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"命名约定",children:["命名约定",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#命名约定",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"包"}),": 简短、小写、尽可能使用单个单词"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"函数"}),": 驼峰命名法，具有描述性"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"变量"}),": 本地变量使用 camelCase，导出变量使用 CamelCase"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"常量"}),": 导出常量使用 CamelCase，非导出常量使用 camelCase"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"接口"}),': 通常以 "er" 结尾（例如 ',(0,r.jsx)(n.code,{children:"Writer"}),"、",(0,r.jsx)(n.code,{children:"Formatter"}),"）"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"代码组织",children:["代码组织",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码组织",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"project/\n├── docs/           # 多语言文档\n├── .github/        # GitHub 模板和工作流\n├── logger.go       # 主要日志记录器实现\n├── entry.go        # 日志条目结构\n├── level.go        # 日志级别\n├── formatter.go    # 日志格式化\n├── output.go       # 输出管理\n└── *_test.go      # 与源代码共存的测试\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"错误处理",children:["错误处理",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#错误处理",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// ✅ 推荐：返回错误，不要 panic\nfunc NewLogger(config Config) (*Logger, error) {\n    if err := config.Validate(); err != nil {\n        return nil, fmt.Errorf("invalid config: %w", err)\n    }\n    return &Logger{...}, nil\n}\n\n// ❌ 避免：在库代码中使用 panic\nfunc NewLogger(config Config) *Logger {\n    if err := config.Validate(); err != nil {\n        panic(err) // 不要这样做\n    }\n    return &Logger{...}\n}\n'})}),"\n",(0,r.jsxs)(n.h2,{id:"-测试指南",children:["\uD83E\uDDEA 测试指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-测试指南",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"测试结构",children:["测试结构",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#测试结构",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func TestLogger_Info(t *testing.T) {\n    tests := []struct {\n        name     string\n        level    Level\n        message  string\n        expected bool\n    }{\n        {"info level allows info", InfoLevel, "test", true},\n        {"warn level blocks info", WarnLevel, "test", false},\n    }\n\n    for _, tt := range tests {\n        t.Run(tt.name, func(t *testing.T) {\n            // Test implementation\n        })\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"覆盖率要求",children:["覆盖率要求",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#覆盖率要求",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"最低要求"}),": 新代码覆盖率 90%"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"目标"}),": 总体覆盖率 95%+"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"所有构建标签"}),"必须保持覆盖率"]}),"\n",(0,r.jsxs)(n.li,{children:["使用 ",(0,r.jsx)(n.code,{children:"make coverage-all"})," 进行验证"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"测试命令",children:["测试命令",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#测试命令",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 在所有构建标签下快速测试\nmake test-quick\n\n# 完整的测试套件，包含覆盖率\nmake test-all\n\n# 覆盖率报告\nmake coverage-html\n\n# 基准测试\nmake benchmark\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"️-构建标签要求",children:["\uD83C\uDFD7️ 构建标签要求",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#️-构建标签要求",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"所有更改必须与我们的构建标签系统兼容："}),"\n",(0,r.jsxs)(n.h3,{id:"支持的构建标签",children:["支持的构建标签",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#支持的构建标签",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"默认"})," (",(0,r.jsx)(n.code,{children:"go build"}),"): 完整功能"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"调试"})," (",(0,r.jsx)(n.code,{children:"go build -tags debug"}),"): 增强调试功能"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"发布"})," (",(0,r.jsx)(n.code,{children:"go build -tags release"}),"): 生产环境优化"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"丢弃"})," (",(0,r.jsx)(n.code,{children:"go build -tags discard"}),"): 最大性能"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"构建标签测试",children:["构建标签测试",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建标签测试",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 测试每个构建配置\nmake test-default\nmake test-debug\nmake test-release\nmake test-discard\n\n# 测试组合\nmake test-debug-discard\nmake test-release-discard\n\n# 一次性测试所有\nmake test-all\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"构建标签指南",children:["构建标签指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建标签指南",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"//go:build debug\n// +build debug\n\npackage log\n\n// 调试特定的实现\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"-文档",children:["\uD83D\uDCDA 文档",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-文档",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"代码文档",children:["代码文档",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码文档",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"所有导出的函数"}),"必须有清晰的注释"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"复杂算法"}),"需要解释"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"示例"}),"用于非平凡用法"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"线程安全"}),"说明（如适用）"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// SetLevel sets the minimum logging level.\n// Logs below this level will be ignored.\n// This method is thread-safe.\n//\n// Example:\n//   logger.SetLevel(log.InfoLevel)\n//   logger.Debug("ignored")  // Won\'t output\n//   logger.Info("visible")   // Will output\nfunc (l *Logger) SetLevel(level Level) *Logger {\n    l.mu.Lock()\n    defer l.mu.Unlock()\n    l.level = level\n    return l\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"readme-更新",children:["README 更新",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#readme-更新",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"添加功能时，请更新："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"主 README.md"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docs/"})," 中的所有语言特定 README"]}),"\n",(0,r.jsx)(n.li,{children:"代码示例"}),"\n",(0,r.jsx)(n.li,{children:"功能列表"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-问题指南",children:["\uD83D\uDC1B 问题指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-问题指南",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"错误报告",children:["错误报告",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#错误报告",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["使用",(0,r.jsx)(n.a,{href:"/zh-TW/.github/ISSUE_TEMPLATE/bug_report",children:"错误报告模板"}),"并包含："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"清晰的问题描述"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"重现步骤"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"预期与实际行为"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"环境详情"}),"（操作系统、Go 版本、构建标签）"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"最小代码示例"})}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"功能请求",children:["功能请求",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#功能请求",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["使用",(0,r.jsx)(n.a,{href:"/zh-TW/.github/ISSUE_TEMPLATE/feature_request",children:"功能请求模板"}),"并包含："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"清晰的功能动机"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"建议的 API"})," 设计"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"实现考虑"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"破坏性变更分析"})}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"问题",children:["问题",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#问题",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["使用",(0,r.jsx)(n.a,{href:"/zh-TW/.github/ISSUE_TEMPLATE/question",children:"问题模板"}),"用于："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"使用问题"}),"\n",(0,r.jsx)(n.li,{children:"配置帮助"}),"\n",(0,r.jsx)(n.li,{children:"最佳实践"}),"\n",(0,r.jsx)(n.li,{children:"集成指导"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-性能考虑",children:["\uD83D\uDE80 性能考虑",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-性能考虑",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"基准测试",children:["基准测试",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基准测试",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"始终对性能敏感的更改进行基准测试："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 运行基准测试\ngo test -bench=. -benchmem\n\n# 比较前后性能\ngo test -bench=. -benchmem > before.txt\n# 进行更改\ngo test -bench=. -benchmem > after.txt\nbenchcmp before.txt after.txt\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"性能指南",children:["性能指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#性能指南",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"最小化"})," 热路径中的内存分配"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"使用对象池"})," 用于频繁创建的对象"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"早期返回"})," 对于禁用的日志级别"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"避免反射"})," 在性能关键代码中"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"在优化前进行性能分析"})}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"内存管理",children:["内存管理",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内存管理",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// ✅ 推荐：使用对象池\nvar entryPool = sync.Pool{\n    New: func() interface{} {\n        return &Entry{}\n    },\n}\n\nfunc getEntry() *Entry {\n    return entryPool.Get().(*Entry)\n}\n\nfunc putEntry(e *Entry) {\n    e.Reset()\n    entryPool.Put(e)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"-安全指南",children:["\uD83D\uDD12 安全指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-安全指南",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"敏感数据",children:["敏感数据",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#敏感数据",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"永远不要记录"}),"密码、令牌或敏感数据"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"清理"}),"日志消息中的用户输入"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"避免"}),"记录整个请求/响应体"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"使用"}),"结构化日志记录以获得更好的控制"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// ✅ 推荐\nlogger.Info("User login attempt", "user_id", userID, "ip", clientIP)\n\n// ❌ 避免\nlogger.Infof("User login: %+v", userRequest) // 可能包含密码\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"依赖项",children:["依赖项",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#依赖项",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["保持依赖项",(0,r.jsx)(n.strong,{children:"最新"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"仔细审查"}),"新的依赖项"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"最小化"}),"外部依赖项"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"使用"})," ",(0,r.jsx)(n.code,{children:"go mod verify"})," 检查完整性"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-社区",children:["\uD83D\uDC65 社区",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-社区",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"获取帮助",children:["获取帮助",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#获取帮助",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\uD83D\uDCD6 ",(0,r.jsx)(n.a,{href:"/README",children:"文档"})]}),"\n",(0,r.jsxs)(n.li,{children:["\uD83D\uDCAC ",(0,r.jsx)(n.a,{href:"https://github.com/lazygophers/log/discussions",target:"_blank",rel:"noopener noreferrer",children:"GitHub 讨论"})]}),"\n",(0,r.jsxs)(n.li,{children:["\uD83D\uDC1B ",(0,r.jsx)(n.a,{href:"https://github.com/lazygophers/log/issues",target:"_blank",rel:"noopener noreferrer",children:"问题跟踪器"})]}),"\n",(0,r.jsxs)(n.li,{children:["\uD83D\uDCE7 邮箱: ",(0,r.jsx)(n.a,{href:"mailto:support@lazygophers.com",children:"support@lazygophers.com"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"沟通指南",children:["沟通指南",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#沟通指南",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"保持尊重"}),"和包容性"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"提问前先搜索"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"请求帮助时提供上下文"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"在力所能及时帮助他人"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"遵守"})," ",(0,r.jsx)(n.a,{href:"/CODE_OF_CONDUCT",children:"行为准则"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-认可",children:["\uD83C\uDFAF 认可",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-认可",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"贡献者通过以下几种方式获得认可："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"README 贡献者"}),"部分"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"发布说明"}),"提及"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub 贡献者"}),"图表"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"社区感谢"}),"帖子"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-许可证",children:["\uD83D\uDCDD 许可证",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-许可证",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"通过贡献，您同意您的贡献将根据 MIT 许可证进行许可。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"-多语言文档",children:["\uD83C\uDF0D 多语言文档",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-多语言文档",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"本文档提供多种语言版本："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING",children:"\uD83C\uDDFA\uD83C\uDDF8 English"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/CONTRIBUTING_zh-CN",children:"\uD83C\uDDE8\uD83C\uDDF3 简体中文"})," (当前)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING_zh-TW",children:"\uD83C\uDDF9\uD83C\uDDFC 繁體中文"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING_fr",children:"\uD83C\uDDEB\uD83C\uDDF7 Fran\xe7ais"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING_ru",children:"\uD83C\uDDF7\uD83C\uDDFA Русский"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING_es",children:"\uD83C\uDDEA\uD83C\uDDF8 Espa\xf1ol"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/CONTRIBUTING_ar",children:"\uD83C\uDDF8\uD83C\uDDE6 العربية"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Thank you for contributing to LazyGophers Log! \uD83D\uDE80"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}let h=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["zh-TW%2FCONTRIBUTING.md"]={toc:[{text:"\uD83D\uDCCB 目录",id:"-目录",depth:2},{text:"\uD83D\uDCDC 行为准则",id:"-行为准则",depth:2},{text:"\uD83D\uDD04 开发流程",id:"-开发流程",depth:2},{text:"工作流程",id:"工作流程",depth:3},{text:"\uD83D\uDE80 开始使用",id:"-开始使用",depth:2},{text:"先决条件",id:"先决条件",depth:3},{text:"本地开发设置",id:"本地开发设置",depth:3},{text:"环境设置",id:"环境设置",depth:3},{text:"\uD83D\uDCE8 拉取请求流程",id:"-拉取请求流程",depth:2},{text:"提交前",id:"提交前",depth:3},{text:"PR 检查清单",id:"pr-检查清单",depth:3},{text:"PR 模板",id:"pr-模板",depth:3},{text:"\uD83D\uDCCF 编码标准",id:"-编码标准",depth:2},{text:"Go 风格指南",id:"go-风格指南",depth:3},{text:"命名约定",id:"命名约定",depth:3},{text:"代码组织",id:"代码组织",depth:3},{text:"错误处理",id:"错误处理",depth:3},{text:"\uD83E\uDDEA 测试指南",id:"-测试指南",depth:2},{text:"测试结构",id:"测试结构",depth:3},{text:"覆盖率要求",id:"覆盖率要求",depth:3},{text:"测试命令",id:"测试命令",depth:3},{text:"\uD83C\uDFD7️ 构建标签要求",id:"️-构建标签要求",depth:2},{text:"支持的构建标签",id:"支持的构建标签",depth:3},{text:"构建标签测试",id:"构建标签测试",depth:3},{text:"构建标签指南",id:"构建标签指南",depth:3},{text:"\uD83D\uDCDA 文档",id:"-文档",depth:2},{text:"代码文档",id:"代码文档",depth:3},{text:"README 更新",id:"readme-更新",depth:3},{text:"\uD83D\uDC1B 问题指南",id:"-问题指南",depth:2},{text:"错误报告",id:"错误报告",depth:3},{text:"功能请求",id:"功能请求",depth:3},{text:"问题",id:"问题",depth:3},{text:"\uD83D\uDE80 性能考虑",id:"-性能考虑",depth:2},{text:"基准测试",id:"基准测试",depth:3},{text:"性能指南",id:"性能指南",depth:3},{text:"内存管理",id:"内存管理",depth:3},{text:"\uD83D\uDD12 安全指南",id:"-安全指南",depth:2},{text:"敏感数据",id:"敏感数据",depth:3},{text:"依赖项",id:"依赖项",depth:3},{text:"\uD83D\uDC65 社区",id:"-社区",depth:2},{text:"获取帮助",id:"获取帮助",depth:3},{text:"沟通指南",id:"沟通指南",depth:3},{text:"\uD83C\uDFAF 认可",id:"-认可",depth:2},{text:"\uD83D\uDCDD 许可证",id:"-许可证",depth:2},{text:"\uD83C\uDF0D 多语言文档",id:"-多语言文档",depth:2}],title:"\uD83E\uDD1D 为 LazyGophers Log 贡献代码",headingTitle:"\uD83E\uDD1D 为 LazyGophers Log 贡献代码",frontmatter:{}}}}]);